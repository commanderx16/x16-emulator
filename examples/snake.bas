5 PRINT CHR$(147)
6 P = 6480
7 GOTO 98
10 REM A SNAKE GAME FOR THE COMMANDER X16 BY @JOHNNWFS (JOHNNWFS.NET)
11 REM
12 REM USING THIS REM SET TO REMIND ME WHICH IS WHAT
13 REM P = POSITION = THE SPECIFIC SCREEN POSITION OF THE SNAKE HEAD
14 REM X = X POSITION OF THIS P POSITION
15 REM Y = Y POSITION OF THIS P POSITION
16 REM M(#) = HOLDS P FOR ALL LENGTHS OF SNAKE
18 REM Z(#) = TEMPORARY - ALSO HOLDS P
19 REM TIMER = COUNTER FOR AUTO MOVE
20 REM HEAD = POSITION IN ARRAY THAT THE HEAD SITS AT
21 REM TM = CLOCK TIMER FOR SNAKE INCREASE
22 REM TT = TRIGGER FOR SNAKE SECTION ADDITION
30 REM DIR = SNAKE DIRECTION FOR AUTO MOVE
31 REM HW = HIT WALL FLAG
35 REM L = SNAKE LENGTH
36 REM LC$= LAST DIRECTION CHARACTER
90 REM T2 = CLOCK TIMER FOR SNAKE AUTO MOVE
91 REM T3 = TRIGGER FOR SNAKE AUTO MOVE
92 REM SY = BORDER SYMBOL:S1 = SNAKEHEAD SYMBOL
93 REM NP = NEXT CHARACTER FOR SNAKE
94 REM T4 = COUNTER FOR RANDOM ITEM APPEARING
95 REM T5 = TRIGGER FOR RANDOM ITEM APPEARING
96 REM S9 = SYMBOL FOR THE TRIGGER CHARACTER
98 GOSUB 8000
99 PRINT CHR$(147)
100 REM MAIN ROUTINE
105 GOSUB 7000
110 X = 20:Y = 20:DIM M(100):DIM Z(100):FLAG = 0:HEAD = 1:S1 = 0:L = 1
112 TM = 0: TT = 500: T2 = 0:T3 =  50:LC$="W":T4 = 0: T5 = 400
120 M(1) = P: Z(1) = P:NP = 0: S9 = 43
125 REM SET UP BORDER
130 FOR I = 1576 - 256 TO 1656 - 256:VPOKE 0,I,SY: NEXT
140 FOR I = 0 TO 40  : VPOKE 0, 1319 +(I*256), SY:NEXT
150 FOR I =11307+ 256 - 2 TO 11383 +2 +256:VPOKE 0, I, SY: NEXT
160 FOR I = 0 TO 40   : VPOKE 0, 1401 +(I*256), SY:NEXT
161 REM
162 REM
200 NP = S1
205 FOR I = 1 TO L
210 VPOKE 0, M(I), NP
220 NEXT
250 TM   = TM   + 1: T2 = T2 +1: T4 = T4 +1
300 GET A$
500 IF A$ = "W" THEN FLAG = 1:LC$ = "W"
520 IF A$ = "S" THEN FLAG = 1:LC$ = "S"
540 IF A$ = "A" THEN FLAG = 1:LC$ = "A"
560 IF A$ = "D" THEN FLAG = 1:LC$ = "D"
600 IF A$ = " " THEN GOTO 9999
650 REM
651 REM
652 REM
660 REM PRINT LENGTH
661 PK = L
662 I1$ = ""
663 I2$ = ""
665 II$ = ""
667 IF PK < 10 THEN VPOKE 0, 1076, PK+48
670 IF PK > 9 AND PK < 100 THEN II$ = STR$(PK)
677 IF PK > 9 THEN VPOKE 0,1076, ASC(MID$(II$,2,1))
679 IF PK > 9 THEN VPOKE 0,1078, ASC(MID$(II$,3,1))
700 IF T4 >T5 THEN GOSUB 4000
701 IF T2 >T3 THEN GOTO 1000
702 IF FLAG = 0 THEN GOTO 9000: REM SKIP NEXT IF NOT DIRECTION CHANGE
710 FLAG = 0
720 REM
750 REM
800 GOTO 120:REM JUMP BACK AS THE NEXT PART IS TRIGGERED IF LENGTH INCREASES
1000 T2 = 0
1020 A$ = LC$: VPOKE 0, M(L), 32
1025 FOR I = 1 TO L: Z(I)= M(I): NEXT I
1030 IF LC$ = "W" THEN P = P - 256: Y = Y - 1
1040 IF LC$ = "S" THEN P = P + 256: Y = Y + 1
1050 IF LC$ = "A" THEN P = P - 2  : X = X - 1
1060 IF LC$ = "D" THEN P = P + 2:   X = X + 1
1061 M(1) = P
1064 IF L >1 THEN GOSUB 2000
1065 IF L = 1 THEN VPOKE 0, M(L), S1:VPOKE 0, Z(L), 32
1100 IF T3 > 10 THEN T3 = T3 -1 :REM SPEED UP SNAKE
1198 REM
1199 REM
1200 REM                         CHECK FOR WALL HITS
1220 IF X =  0 OR Y = 0 THEN HW = 1
1240 IF X = 40 OR Y = 40 THEN HW = 1
1250 REM
1300 IF HW = 1 THEN GOTO 9990
1310 REM
1311 REM
1312 REM
1400 HH = VPEEK(0,M(1))
1401 REM IF HH <>0 AND HH < > 32 THEN PRINT STR$(HH)+" "+STR$(S9)+" "+STR$(TM)
1410 IF HH = S9  THEN L = L + 1
1415 FL = 0
1420 FOR I = 2 TO L
1430 IF M(1)= M(I)AND L > 1  THEN FL = 1
1440 NEXT
1450 IF FL = 1 THEN GOTO 9996
1500 GOTO 200:GO BACK TO THE KEYBOARD ROUTINE
2000 REM
2001 REM VPOKE 0, M(L),32: REM VPOKE 0, M(1), 32
2002 FOR I = 2 TO L:M(I) = Z(I-1):NEXT
2005 REM
2010 REM
2020 REM
2030 REM
2040 RETURN
2041 REM
4000 REM HANDLE RANDOM ITEM APPEARING
4005 T4 = 0
4010 X1= INT(RND(1)*40+1)
4020 Y1= INT(RND(1)*40+1)
4030 XP = 1320 + (2*X1)+ (256*Y1)
4040 VPOKE 0, XP, S9
4050 REM WILL HAVE TO MAKE SURE NOTHING APPEARS IN OCCUPIED SPACE
4990 RETURN
7000 REM
7010 DATA 12, 5, 14, 7, 20, 8, 58
7020 FOR I = 1 TO 7
7030 READ A
7040 VPOKE 0,1060+(2*I), A
7050 NEXT
7990 RETURN
8000 PRINT CHR$(147)
8010 PRINT "A SNAKE GAME FOR THE COMMANDER X16"
8020 PRINT ""
8025 PRINT "W A S D FOR MOVEMENT"
8030 PRINT "YOU ARE THE @ AND WILL GROW OVER TIME AND"
8045 PRINT "WHEN YOU PICK UP A +"
8050 PRINT
8055 PRINT "GAME ENDS WHEN YOU HIT A WALL OR YOURSELF"
8060 PRINT "CODE IS VERY VERY MESSY."
8065 PRINT ""
8070 PRINT"WOULD LOVE TO SEE MODS AND IMPROVEMENTS"
8075 PRINT "HIT ME UP ON TWITTER @JOHNNWFS OR FACEBOOK JOHNHOFFER"
8080 PRINT:PRINT"ANY KEY TO CONTINUE..."
8085 GET A$:IF A$ = "" GOTO 8085
8095 RETURN
8841 REM JUST SOME DEBUGGING FOR THE SNAKE MOVEMENT. HANGING ON TO IT IN CASE
8850 REM I NEED IT LATER
8880 VPOKE 0, M(I), NP: IF T2 > 49 OR T2 = 0 THEN PRINT STR$(P) +"�"+STR$(I);
8881 IF T2 >49 OR T2 = 0 THEN PRINT "NP:" +STR$(NP);:PRINT Z(1);:PRINT Z(2)
9000 REM HANDLE SNAKE TIMER
9002 IF TM    < TT       THEN GOTO 9100
9004 TM  = 0
9006 REM M(1)= P:CLOSEM(L) = M(L-1):M(L) = P
9010 L = L +1: REM LENGTH ADDED
9020 IF T3 >1 THEN T3 = T3 - 1
9030 IF T5 >20 THEN T5 = T5 - 5
9100 GOTO 200
9990 VPOKE 0, P ,S1:REM SHOW SNAKE HEAD IN WALL
9991 PRINT CHR$(32)+"GAME OVER!�YOU HIT A WALL. MADE IT TO LENGTH "+STR$(L)
9992 GOTO 10000
9996 PRINT CHR$(32)+"GAME OVER!�YOU HIT YOURSELF! FINAL LENGTH "+STR$(L)
9997 GOTO 10000
9998 PRINT "GAME OVER:�YOU MADE IT TO LENGTH :"+STR$(L)
9999 PRINT"SPACE PRESSED": END
10000 GET B$: IF B$="" THEN 10000
10010 IF B$ = "�"THEN END
10020 RUN




